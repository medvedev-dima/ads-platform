<!doctype html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <title>MVP калькулятор аудитории</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="page">
      <main class="layout">
        <div class="main-col">
        <section class="panel panel-input">
          <div class="panel-header-with-icon">
            <img
              src="/Users/dmitrymedvedev/.cursor/projects/Users-dmitrymedvedev-Desktop-Project-1/assets/image-476f0c74-826e-459f-b69f-9b8a66549dcc.png"
              alt=""
              class="forecast-icon-large"
            />
            <h2 class="panel-title">Настройка аудитории</h2>
          </div>
          <div class="section-title section-title--campaign">Название кампании</div>
          <div class="field-group field-group--campaign">
            <input type="text" id="campaign-name" class="campaign-name-input" placeholder="Например: Ипотека · Москва · весна 2026" autocomplete="off" />
            <p class="helper-text" id="empty-state-campaign">Название поможет сохранить и сравнивать расчёты</p>
          </div>

          <div class="section-title">Период рекламной кампании</div>
          <div class="field-group">
            <div class="date-row">
              <div class="date-field">
                <label class="date-label" for="date-start">Дата начала</label>
                <div class="date-input-inner">
                  <input type="text" id="date-start" class="date-input" placeholder="ДД.ММ.ГГГГ" inputmode="numeric" autocomplete="off" />
                  <button type="button" class="date-clear-btn" id="date-start-clear" hidden aria-label="Очистить">×</button>
                </div>
                <span class="date-error" id="date-start-error"></span>
              </div>
              <div class="date-field">
                <label class="date-label" for="date-end">Дата окончания</label>
                <div class="date-input-inner">
                  <input type="text" id="date-end" class="date-input" placeholder="ДД.ММ.ГГГГ" inputmode="numeric" autocomplete="off" />
                  <button type="button" class="date-clear-btn" id="date-end-clear" hidden aria-label="Очистить">×</button>
                </div>
                <span class="date-error" id="date-end-error"></span>
              </div>
              <div class="date-duration" id="date-duration">
                <span class="date-duration-text"></span>
              </div>
            </div>
            <p class="helper-text">Длительность кампании влияет на общее число показов</p>
          </div>

          <div class="section-title">Регионы показа</div>
          <div class="field-group geo-field-group">
            <div class="geo-hint-block" id="geo-hint-block">
              <div class="geo-hint-title">Быстрый выбор</div>
              <div class="geo-hint-sub">Можно указать несколько регионов</div>
              <div class="geo-presets" id="geo-presets">
                <button type="button" class="geo-preset-btn" data-geo-preset="russia">Россия</button>
                <button type="button" class="geo-preset-btn" data-geo-preset="moscow">Москва</button>
                <button type="button" class="geo-preset-btn" data-geo-preset="moscow_mo">Москва + МО</button>
                <button type="button" class="geo-preset-btn" data-geo-preset="spb">Санкт-Петербург</button>
                <button type="button" class="geo-preset-btn" data-geo-preset="spb_lo">СПб + ЛО</button>
                <button type="button" class="geo-preset-btn" data-geo-preset="millionniki" title="Выбирает регионы с городами с населением более 1 млн человек">Города-миллионники</button>
              </div>
            </div>
            <div class="geo-selected-block" id="geo-selected-block" hidden>
              <div class="geo-regions-row">
                <span class="geo-regions-count" id="geo-regions-count"></span>
                <button type="button" class="geo-regions-reset" id="geo-regions-reset" hidden>Сбросить</button>
              </div>
              <div class="geo-chips" id="geo-chips"></div>
            </div>
            <div class="geo-search-wrapper">
              <div class="geo-input-inner">
                <input type="text" id="geo-search" class="geo-search-input" placeholder="Выберите регион" autocomplete="off" />
                <button type="button" class="geo-clear-btn" id="geo-clear-btn" hidden aria-label="Очистить">×</button>
              </div>
              <div class="geo-dropdown" id="geo-dropdown" hidden></div>
              <div class="geo-russia-hint" id="geo-russia-hint" hidden>Выбрана Россия. Чтобы выбрать регионы, снимите Россию</div>
              <div class="geo-helper-slot" id="geo-helper-slot">
                <p class="helper-text geo-helper" id="empty-state-regions">Регион обязателен для расчёта прогноза</p>
                <p class="helper-text geo-helper geo-helper--russia" id="empty-state-regions-russia">Можно уточнить регионы, чтобы сузить аудиторию</p>
              </div>
            </div>
          </div>

          <div class="section-title section-title--secondary">Платформа устройств</div>
          <div class="field-group field-group--secondary">
            <p class="helper-text helper-text--inline" id="empty-state-platform">По умолчанию выбраны обе платформы</p>
            <div class="platform-control-wrap">
            <div class="segmented" id="platform-group">
              <button type="button" class="segmented-item" data-platform="ios">iOS</button>
              <button type="button" class="segmented-item" data-platform="android">Android</button>
            </div>
            </div>
          </div>

          <div class="section-title">Покупательское поведение</div>
          <div class="field-group behavior-field-group">
            <div class="behavior-block behavior-block--period">
              <div class="behavior-block-header">
                <h3 class="behavior-block-title">Выбор числа дней</h3>
                <span class="behavior-block-helper">Больше дней — точнее сигнал, меньше дней — больше охват</span>
              </div>
              <div class="behavior-period-controls">
                <div class="behavior-period-pills" id="behavior-period-group" role="radiogroup" aria-label="Выбор числа дней">
                  <button type="button" class="behavior-period-btn" role="radio" aria-checked="false" data-period="30">30</button>
                  <button type="button" class="behavior-period-btn" role="radio" aria-checked="false" data-period="60">60</button>
                  <button type="button" class="behavior-period-btn" role="radio" aria-checked="false" data-period="90">90</button>
                  <button type="button" class="behavior-period-btn" role="radio" aria-checked="false" data-period="180">180</button>
                  <button type="button" class="behavior-period-btn" role="radio" aria-checked="false" data-period="365">365</button>
                </div>
              </div>
            </div>
            <div class="behavior-divider"></div>
            <div class="behavior-block behavior-block--categories">
              <div class="behavior-block-header behavior-block-header--categories">
                <div class="behavior-block-title-row">
                  <h3 class="behavior-block-title">Категории покупок</h3>
                  <span class="behavior-category-count" id="behavior-category-count">Выбрано: 0</span>
                </div>
                <span class="behavior-block-helper">Можно выбрать несколько</span>
                <button type="button" class="behavior-reset" id="behavior-reset" hidden>Сбросить</button>
              </div>
              <p class="behavior-empty-caption" id="behavior-empty-caption">Учитываются все категории покупок</p>
              <p class="behavior-validation-msg" id="behavior-validation-msg" hidden>Выберите и период, и категории для учёта покупательского поведения</p>
              <div class="behavior-grid" id="behavior-grid" role="group" aria-label="Категории покупок"></div>
            </div>
          </div>

          <div class="section-title section-title--social">Социальные характеристики</div>
          <div class="field-group social-field-group">
            <button type="button" class="social-reset" id="social-reset" hidden>Сбросить</button>
            <div class="social-two-col">
              <div class="social-col social-col--demography">
                <div class="social-col-title">Демография</div>
                <p class="helper-text helper-text--social" id="empty-state-demo">По умолчанию — все параметры без ограничений</p>
                <div class="social-demo-level social-demo-level--1">
                  <div class="social-col-block">
                    <div class="field-label">Пол</div>
                    <span class="field-hint">По умолчанию — без ограничения</span>
                    <div class="social-tiles social-tiles-single" id="gender-group">
                      <button type="button" class="social-tile" data-gender="male">Мужчины</button>
                      <button type="button" class="social-tile" data-gender="female">Женщины</button>
                    </div>
                    <span class="social-default-state" id="gender-default-state">Без ограничения</span>
                  </div>
                  <div class="social-col-block">
                    <div class="field-label">Возраст</div>
                    <span class="field-hint">По умолчанию — без ограничения</span>
                    <div class="age-presets" id="age-presets">
                      <button type="button" class="age-preset" data-age-preset="18-24">18–24</button>
                      <button type="button" class="age-preset" data-age-preset="25-44">25–44</button>
                      <button type="button" class="age-preset" data-age-preset="45+">45+</button>
                    </div>
                    <div class="age-manual">
                      <label class="age-manual-label">От</label>
                      <select id="age-from" class="age-select"></select>
                      <label class="age-manual-label">До</label>
                      <select id="age-to" class="age-select"></select>
                    </div>
                    <span class="social-default-state" id="age-default-state">Без ограничения</span>
                  </div>
                </div>
                <div class="social-demo-level social-demo-level--2">
                  <div class="social-col-block">
                    <div class="social-cell-label">Семейное положение</div>
                    <span class="field-hint">По умолчанию — без ограничения</span>
                    <div class="social-tiles social-tiles-single" id="social-marriage">
                      <button type="button" class="social-tile" data-social-marriage="married">В браке</button>
                      <button type="button" class="social-tile" data-social-marriage="single">Не в браке</button>
                    </div>
                    <span class="social-default-state" id="marriage-default-state">Без ограничения</span>
                  </div>
                  <div class="social-col-block social-col-block--kids">
                  <div class="social-cell-label">Дети</div>
                  <span class="field-hint">По умолчанию — без ограничения</span>
                  <div class="social-tiles social-tiles-single" id="social-kids">
                    <button type="button" class="social-tile" data-social-kids="yes">Есть дети до 16</button>
                    <button type="button" class="social-tile" data-social-kids="no">Нет детей</button>
                  </div>
                  <span class="social-default-state" id="kids-default-state">Без ограничения</span>
                  <div class="child-age-block" id="child-age-block" aria-disabled="true">
                    <div class="child-age-header">
                      <span class="child-age-label">Возраст детей</span>
                      <span class="child-age-hint" id="child-age-hint">Доступно при выборе «Есть дети до 16»</span>
                    </div>
                    <div class="social-cell-sub child-age-sub">Можно выбрать несколько</div>
                    <div class="social-tiles social-tiles-multi child-age-tiles" id="child-age-group">
                      <button type="button" class="social-tile" data-child-age="0-3">0–3 года</button>
                      <button type="button" class="social-tile" data-child-age="4-6">4–6 лет</button>
                      <button type="button" class="social-tile" data-child-age="7-12">7–12 лет</button>
                      <button type="button" class="social-tile" data-child-age="13-16">13–16 лет</button>
                    </div>
                  </div>
                  </div>
                </div>
                <div class="social-demo-level social-demo-level--3">
                  <div class="social-col-block">
                    <div class="social-cell-label social-cell-label--secondary">Специальная занятость</div>
                  <span class="field-hint">Можно выбрать несколько</span>
                  <div class="social-tiles social-tiles-multi" id="special-employment-group">
                    <button type="button" class="social-tile" data-special-employment="selfemployed">Самозанятые</button>
                    <button type="button" class="social-tile" data-special-employment="ip">ИП</button>
                    <button type="button" class="social-tile" data-special-employment="alphabusiness">Альфа-Бизнес</button>
                  </div>
                  </div>
                </div>
              </div>
              <div class="social-col social-col--finance">
                <div class="social-col-title">Финансовый профиль</div>
                <p class="helper-text helper-text--social" id="empty-state-usertype">По умолчанию — все параметры без ограничений</p>
                <div class="social-col-block">
                  <div class="social-cell-label">Тип пользователя</div>
                  <span class="field-hint">Можно не указывать</span>
                  <div class="social-tiles social-tiles-single" id="user-type-group">
                    <button type="button" class="social-tile" data-user-type="mass">Массовый</button>
                    <button type="button" class="social-tile" data-user-type="affluent">Премиум</button>
                  </div>
                  <span class="social-default-state" id="usertype-default-state">Без ограничения</span>
                </div>
                <div class="social-col-block">
                  <div class="social-cell-label">Доход</div>
                  <span class="field-hint">По умолчанию — без ограничения</span>
                  <div class="social-cell-sub">Оценка на основе платёжной активности клиентов. Можно выбрать несколько</div>
                  <div class="social-tiles social-tiles-multi" id="social-income">
                    <button type="button" class="social-tile" data-social-income="low">Низкий</button>
                    <button type="button" class="social-tile" data-social-income="mid">Средний</button>
                    <button type="button" class="social-tile" data-social-income="high">Высокий</button>
                    <button type="button" class="social-tile" data-social-income="top">Очень высокий</button>
                  </div>
                  <span class="social-default-state" id="income-default-state">Без ограничения</span>
                </div>
                <div class="social-col-block social-col-block--bank">
                  <div class="bank-products-header">
                    <span class="social-cell-label">Банковские продукты</span>
                    <button type="button" class="bank-products-reset" id="bank-products-reset" hidden>Сбросить</button>
                  </div>
                  <div class="social-cell-sub bank-products-sub" id="bank-products-sub">Можно выбрать продукты, которыми уже пользуется клиент. Чем больше продуктов выбрано — тем уже сегмент</div>
                  <div class="social-tiles social-tiles-multi bank-products-tiles" id="bank-products-group"></div>
                </div>
              </div>
            </div>
          </div>

          <div class="section-title">Подготовка медиаплана</div>
          <div class="field-group mediaplan-field-group">
            <p class="helper-text" id="empty-state-mediaplan">Медиаплан можно заполнить позже — прогноз аудитории считается без него</p>
            <p class="helper-text mediaplan-helper" id="mediaplan-selector-hint">Выберите плейсменты и укажите показы — бюджет и клики посчитаем автоматически</p>
            <div class="mediaplan-budget-block">
              <div class="mediaplan-budget-row">
                <label class="mediaplan-budget-label" for="mediaplan-budget-input">Бюджет кампании (необязательно)</label>
                <div class="mediaplan-budget-input-wrap">
                  <input type="text" inputmode="numeric" id="mediaplan-budget-input" class="mediaplan-budget-input" placeholder="" aria-label="Бюджет кампании в рублях" />
                  <span class="mediaplan-budget-currency">₽</span>
                </div>
                <button type="button" class="mediaplan-distribute-btn" id="mediaplan-distribute-btn" disabled>Распределить равномерно</button>
              </div>
              <div class="mediaplan-budget-check" id="mediaplan-budget-check" aria-live="polite" hidden></div>
            </div>
            <div class="mediaplan-table-wrap">
              <table class="mediaplan-table">
                <thead>
                  <tr>
                    <th class="mediaplan-th mediaplan-th-name">Плейсмент</th>
                    <th class="mediaplan-th mediaplan-th-impressions">Показы</th>
                    <th class="mediaplan-th mediaplan-th-cpm">CPM, ₽/1000</th>
                    <th class="mediaplan-th mediaplan-th-cr">CR, %</th>
                    <th class="mediaplan-th mediaplan-th-clicks">Ожидаемые клики</th>
                    <th class="mediaplan-th mediaplan-th-cost">Стоимость</th>
                  </tr>
                </thead>
                <tbody id="mediaplan-tbody"></tbody>
              </table>
            </div>
            <div class="mediaplan-totals mediaplan-totals--copyable" id="mediaplan-totals" tabindex="0" title="Выделите и скопируйте">
              <span id="mediaplan-totals-text"></span>
            </div>
            <div class="mediaplan-actions">
              <button type="button" class="mediaplan-save-btn" id="mediaplan-save-btn">Сохранить расчёт</button>
            </div>
          </div>
        </section>
        </div>

        <aside class="side-col">
          <section class="panel panel-output panel-forecast forecast-sticky" id="panel-forecast">
            <h2 class="panel-title panel-forecast__title">Прогноз</h2>

            <div class="forecast-body">
            <div class="forecast-content" id="forecast-content">
              <div class="forecast-metrics">
                <div class="forecast-metric forecast-metric--primary">
                  <span class="forecast-metric__label">Показы</span>
                  <span class="forecast-metric__value" id="impressions-range"></span>
                  <span class="forecast-metric__sub">Общее число показов</span>
                </div>
                <div class="forecast-metric forecast-metric--secondary">
                  <span class="forecast-metric__label">Клики</span>
                  <span class="forecast-metric__value" id="clicks-range"></span>
                  <span class="forecast-metric__sub">Приблизительное количество переходов</span>
                </div>
              </div>

                <div class="audience-summary">
                <span class="audience-summary__text">Аудитория <span id="audience-size"></span> человек</span>
              </div>
            </div>
            <p class="forecast-empty-message" id="forecast-empty-message">Выберите регион, чтобы увидеть прогноз</p>
            </div>

            <p class="forecast-micro">Регион обязателен. Даты масштабируют объём. Остальное уточняет сегмент</p>
            <div class="forecast-updated-slot" aria-live="polite">
              <span class="forecast-updated" id="forecast-updated">Прогноз обновлён</span>
            </div>
            <div class="panel-forecast__footer">Прогноз носит ознакомительный характер</div>
          </section>
        </aside>
      </main>
    </div>

    <script src="script.js"></script>
  </body>
</html>
